---
- hosts: noticeboards
  become: true
  become_user: root
  tasks:
    - name: Restart noticeboard every day at 03.05 UTC
      cron:
        name: "system_restart"
        user: "root"
        hour: 3
        minute: 5
        job: "/sbin/shutdown -r"
        state: present

    - name: Restart display manager every hour
      cron:
        name: "display_manager_restart"
        user: "root"
        special_time: hourly
        job: "/bin/systemctl restart display-manager"
        state: present

    - name: Restart VNC server every hour
      cron:
        name: "vnc_server_restart"
        user: "root"
        special_time: hourly
        job: "/bin/systemctl restart x11vnc"
        state: present

